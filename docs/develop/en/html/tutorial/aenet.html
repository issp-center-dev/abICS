
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>4.1. Constructing a neural network model &#8212; abICS 2.2.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5. Input Files Format" href="../inputfiles/index.html" />
    <link rel="prev" title="4. Tutorial" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="constructing-a-neural-network-model">
<span id="sec-tutorial"></span><h1><span class="section-number">4.1. </span>Constructing a neural network model<a class="headerlink" href="#constructing-a-neural-network-model" title="Permalink to this heading">¶</a></h1>
<p>This section contains instructions on how to construct a neural network using <code class="docutils literal notranslate"><span class="pre">aenet</span></code>
to reproduce first-principles energies from Quantum ESPRESSO (QE).
Here, we will consider the temperature-dependent degree of Mg/Al inversion in
MgAl2O4 spinel. In the ground state, all Mg ions are tetrahedrally coordinated by O ions
while Al ions are octahedrally coordinated. We will simulate the amount of
inversion between these sites vs. temperature.
The set of input files used in this tutorial can be found in <code class="docutils literal notranslate"><span class="pre">examples/active_learning_qe</span></code>.
In the following, we briefly describe the installation of aenet and GNU parallel, but you may skip the section if they are preinstalled in your system.
We will also use ohtaka, the supercomputer system B of the Institute for Solid State Physics, as the environment for running the calculations.</p>
<section id="preparation">
<h2><span class="section-number">4.1.1. </span>Preparation<a class="headerlink" href="#preparation" title="Permalink to this heading">¶</a></h2>
<section id="installation-of-aenet">
<h3>Installation of aenet<a class="headerlink" href="#installation-of-aenet" title="Permalink to this heading">¶</a></h3>
<p>In abICS, we use aenet to build neural network models.
You can download aenet from <a class="reference external" href="http://ann.atomistic.net">http://ann.atomistic.net</a>.
Follow the Installation instructions in the Documentation to install it.
Note that abICS uses <code class="docutils literal notranslate"><span class="pre">generate.x</span></code>, <code class="docutils literal notranslate"><span class="pre">train.x</span></code> and <code class="docutils literal notranslate"><span class="pre">predict.x</span></code> of aenet for training and evaluating neural networks.
For <code class="docutils literal notranslate"><span class="pre">train.x</span></code>, an MPI parallel version can be used, but for <code class="docutils literal notranslate"><span class="pre">generate.x</span></code> and <code class="docutils literal notranslate"><span class="pre">predict.x</span></code>, you need to use a non-MPI executable file (serial).
For this reason, you should also install the serial version under makefiles.</p>
</section>
<section id="installation-of-gnu-parallel">
<h3>Installation of GNU parallel<a class="headerlink" href="#installation-of-gnu-parallel" title="Permalink to this heading">¶</a></h3>
<p>In this tutorial, we will use GNU parallel to run first-principles calculations with Quantum Espresso in parallel.
Therefore, you need to install GNU parallel first.
GNU parallel can be downloaded from <a class="reference external" href="https://www.gnu.org/software/parallel/">https://www.gnu.org/software/parallel/</a> (on a Mac, it can also be installed directly by homebrew).
After moving to the directory where you downloaded and extracted the source files, you can install it into <code class="docutils literal notranslate"><span class="pre">$HOME/opt/parallel</span></code> by typing the following command.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./configure --prefix=$HOME/opt/parallel
$ make &amp;&amp; make install
</pre></div>
</div>
<p>For detailed configuration, please refer to the official manual.</p>
</section>
</section>
<section id="preparation-of-input-files-for-training-data-set-generation">
<h2><span class="section-number">4.1.2. </span>Preparation of input files for training data set generation<a class="headerlink" href="#preparation-of-input-files-for-training-data-set-generation" title="Permalink to this heading">¶</a></h2>
<p>A set of training data is required for creating a neural network
that relate the configurations of atoms as input and the energy as output by the first-principle calculations.
To generate the data set, the input files need to be prepared for both abICS and the first-principle solver.</p>
<section id="preparation-of-the-abics-control-file-input-toml">
<h3>Preparation of the abICS control file (<code class="docutils literal notranslate"><span class="pre">input.toml</span></code>)<a class="headerlink" href="#preparation-of-the-abics-control-file-input-toml" title="Permalink to this heading">¶</a></h3>
<p>This file contains the definition of the lattice structure to be calculated, the control of the entire active learning cycles by abICS, and the parameters for the replica exchange Monte Carlo method.
By using the st2abics tool, you can automatically generate the input.toml template from the crystal structure file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd [example_dir].
$ st2abics st2abics_MgAl2O4.toml MgAl2O4.vasp &gt; input.toml
</pre></div>
</div>
<p>In this section, we will explain the settings for each section of <code class="docutils literal notranslate"><span class="pre">input.toml</span></code> in more detail.</p>
<section id="i-mlref-section">
<h4>(i) <code class="docutils literal notranslate"><span class="pre">[mlref]</span></code> section<a class="headerlink" href="#i-mlref-section" title="Permalink to this heading">¶</a></h4>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[mlref]</span>
<span class="n">nreplicas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span>
<span class="n">ndata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
</pre></div>
</div>
<p>In this section, you can set the options for extracting atomic configurations from the RXMC calculation results to evaluate the accuracy of the neural network model and to expand the training data.
Basically, <code class="docutils literal notranslate"><span class="pre">nreplicas</span></code> should be the same values as in the <code class="docutils literal notranslate"><span class="pre">[sampling]</span></code> section.
<code class="docutils literal notranslate"><span class="pre">ndata</span></code> specifies how many samples to be extracted as the training dataset of the machine learning model from configurations generated by the RXMC calculation.
Therefore, it should be set to a value less than or equal to the number of configurations generated by the RXMC calculation, <code class="docutils literal notranslate"><span class="pre">nsteps/sample_frequency</span></code> in <code class="docutils literal notranslate"><span class="pre">[sampling]</span></code> section.</p>
</section>
<section id="ii-mlref-solver-section">
<h4>(ii) <code class="docutils literal notranslate"><span class="pre">[mlref.solver]</span></code> section<a class="headerlink" href="#ii-mlref-solver-section" title="Permalink to this heading">¶</a></h4>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">mlref</span><span class="p">.</span><span class="n">solver</span><span class="p">]</span><span class="w"> </span><span class="c1"># Set up a reference ab initio solver.</span>
<span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#39;qe&#39;</span>
<span class="n">base_input_dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">&#39;./baseinput_ref&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;./baseinput_ref&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;./baseinput_ref&#39;</span><span class="p">]</span><span class="w"> </span><span class="c1">#, &#39;./baseinput_ref&#39;]</span>
<span class="n">perturb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.05</span>
</pre></div>
</div>
<p>Set up the solver used to calculate the energy for training data (configuration energy).
In this example, Quantum Espresso is used.
The <code class="docutils literal notranslate"><span class="pre">base_input_dir</span></code> can be set freely.
The input files for the solver are placed in the set directory (see below).
If multiple directories are set up in a list format, as in this example, calculations using each input are performed in turn.
The second and subsequent calculations will use the structure from the last step of the previous calculation as the initial coordinates.
The energy of the last calculation is then used for training of the neural network model.
For example, one could perform a fast structural optimization in the first input file at the expense of accuracy, and then perform a structural optimization in the second and subsequent input files with a higher accuracy setting.
For another example, in the case of a lattice vector relaxation, the same input can be run multiple times to reset the computational mesh based on a set plane-wave cutoff.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">perturb</span></code> is for starting the structural optimization from a structure with broken symmetry by randomly displacing each atom.
In this case, the first calculation starts from the structure in which all atoms for structural relaxation are displaced by 0.05 angstrom in a random direction.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ignore-species</span></code> is set to an empty list when the first-principle solver is used for generating the training data.
When a model is employed for the data generation in which some atomic species are ignored, they are specified in <code class="docutils literal notranslate"><span class="pre">ignore-species</span></code>.</p>
</section>
<section id="iii-config-section">
<h4>(iii) <code class="docutils literal notranslate"><span class="pre">[config]</span></code> section<a class="headerlink" href="#iii-config-section" title="Permalink to this heading">¶</a></h4>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">config</span><span class="p">]</span><span class="w"> </span><span class="c1"># Set up information about the crystal lattice and the atoms and vacancies on the lattice.</span>
<span class="n">unitcell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="mf">8.1135997772</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0000000000000000</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0000000000000000</span><span class="p">],</span>
<span class="w">            </span><span class="p">[</span><span class="mf">0.0000000000000000</span><span class="p">,</span><span class="w"> </span><span class="mf">8.1135997772</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0000000000000000</span><span class="p">],</span>
<span class="w">            </span><span class="k">[0.0000000000000000, 0.0000000000000000, 8.1135997772]]</span>
<span class="n">supercell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>

<span class="k">[[config.base_structure]]</span>
<span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;O&quot;</span>
<span class="n">coords</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">[</span><span class="mf">0.237399980</span><span class="p">,</span><span class="w"> </span><span class="mf">0.237399980</span><span class="p">,</span><span class="w"> </span><span class="mf">0.237399980</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="mf">0.762599945</span><span class="p">,</span><span class="w"> </span><span class="mf">0.762599945</span><span class="p">,</span><span class="w"> </span><span class="mf">0.762599945</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="mf">0.512599945</span><span class="p">,</span><span class="w"> </span><span class="mf">0.012600004</span><span class="p">,</span><span class="w"> </span><span class="mf">0.737399936</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="mf">0.487399966</span><span class="p">,</span><span class="w"> </span><span class="mf">0.987399936</span><span class="p">,</span><span class="w"> </span><span class="mf">0.262599975</span><span class="p">],</span>
<span class="w">    </span><span class="p">...</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">[config]</span></code> section specifies atomic positions to be used in the Monte Carlo sampling.
The <code class="docutils literal notranslate"><span class="pre">st2abics</span></code> utility tool can generate this section.
If <code class="docutils literal notranslate"><span class="pre">abics_sampling</span></code> has not been performed yet, the atomic positions are randomly generated
based on this information, and the input files for the first-principle calculation are produced.
Once <code class="docutils literal notranslate"><span class="pre">abics_sampling</span></code> is executed, the input files will be generated from the atomic positions obtained from the Monte Carlo sampling.</p>
<section id="preparation-of-the-qe-reference-file">
<h5>Preparation of the QE reference file<a class="headerlink" href="#preparation-of-the-qe-reference-file" title="Permalink to this heading">¶</a></h5>
<p>Place the input file to be referenced in the QE scf calculation in <code class="docutils literal notranslate"><span class="pre">baseinput_ref</span></code>.
The following is a description of the <code class="docutils literal notranslate"><span class="pre">scf.in</span></code> file in the sample directory.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="n">CONTROL</span>
<span class="n">calculation</span> <span class="o">=</span> <span class="s1">&#39;relax&#39;</span>
<span class="n">tstress</span> <span class="o">=</span> <span class="o">.</span><span class="n">false</span><span class="o">.</span>
<span class="n">tprnfor</span> <span class="o">=</span> <span class="o">.</span><span class="n">false</span><span class="o">.</span>
<span class="n">pseudo_dir</span> <span class="o">=</span> <span class="s1">&#39;./pseudo&#39;</span>
<span class="n">disk_io</span> <span class="o">=</span> <span class="s1">&#39;low&#39;</span>
<span class="n">wf_collect</span> <span class="o">=</span> <span class="o">.</span><span class="n">false</span><span class="o">.</span>
<span class="o">/</span>
<span class="o">&amp;</span><span class="n">SYSTEM</span>
  <span class="n">ecutwfc</span> <span class="o">=</span> <span class="mf">60.0</span>
  <span class="n">occupations</span> <span class="o">=</span> <span class="s2">&quot;smearing&quot;</span><span class="o">.</span>
  <span class="n">smearing</span> <span class="o">=</span> <span class="s2">&quot;gauss&quot;</span>
  <span class="n">degauss</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="o">/</span>
<span class="o">&amp;</span><span class="n">electrons</span>
  <span class="n">mixing_beta</span> <span class="o">=</span> <span class="mf">0.7</span>
  <span class="n">conv_thr</span> <span class="o">=</span> <span class="mf">1.0</span><span class="n">d</span><span class="o">-</span><span class="mi">8</span>
  <span class="n">electron_maxstep</span> <span class="o">=</span> <span class="mi">100</span>
<span class="o">/</span>
<span class="o">&amp;</span><span class="n">ions</span>
<span class="o">/</span>
<span class="n">ATOMIC_SPECIES</span>
<span class="n">Al</span> <span class="mf">26.981</span> <span class="n">Al</span><span class="o">.</span><span class="n">pbe</span><span class="o">-</span><span class="n">nl</span><span class="o">-</span><span class="n">kjpaw_psl</span><span class="mf">.1.0.0</span><span class="o">.</span><span class="n">UPF</span>
<span class="n">Mg</span> <span class="mf">24.305</span> <span class="n">Mg</span><span class="o">.</span><span class="n">pbe</span><span class="o">-</span><span class="n">spnl</span><span class="o">-</span><span class="n">kjpaw_psl</span><span class="mf">.1.0.0</span><span class="o">.</span><span class="n">UPF</span>
<span class="n">O</span> <span class="mf">16.000</span> <span class="n">O</span><span class="o">.</span><span class="n">pbe</span><span class="o">-</span><span class="n">n</span><span class="o">-</span><span class="n">kjpaw_psl</span><span class="mf">.1.0.0</span><span class="o">.</span><span class="n">UPF</span>
<span class="n">ATOMIC_POSITIONS</span> <span class="n">crystal</span>

<span class="n">K_POINTS</span> <span class="n">gamma</span>
</pre></div>
</div>
<p>You need to rewrite the directory that contains the pseudopotentials, <code class="docutils literal notranslate"><span class="pre">pseudo_dir</span></code>,
and the pseudopotentials used in <code class="docutils literal notranslate"><span class="pre">ATOMIC_SPECIES</span></code> according to your environment.
The pseudopotentials used in this sample can be downloaded from the following link.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pseudopotentials.quantum-espresso.org/upf_files/Al.pbe-nl-kjpaw_psl.1.0.0.UPF">https://pseudopotentials.quantum-espresso.org/upf_files/Al.pbe-nl-kjpaw_psl.1.0.0.UPF</a></p></li>
<li><p><a class="reference external" href="https://pseudopotentials.quantum-espresso.org/upf_files/Mg.pbe-spnl-kjpaw_psl.1.0.0.UPF">https://pseudopotentials.quantum-espresso.org/upf_files/Mg.pbe-spnl-kjpaw_psl.1.0.0.UPF</a></p></li>
<li><p><a class="reference external" href="https://pseudopotentials.quantum-espresso.org/upf_files/O.pbe-n-kjpaw_psl.1.0.0.UPF">https://pseudopotentials.quantum-espresso.org/upf_files/O.pbe-n-kjpaw_psl.1.0.0.UPF</a></p></li>
</ul>
<p>In this example, <code class="docutils literal notranslate"><span class="pre">calculation</span> <span class="pre">=</span> <span class="pre">'relax'</span></code> is used for structural optimization during the QE calculation, and <code class="docutils literal notranslate"><span class="pre">gammma</span></code> is used for <code class="docutils literal notranslate"><span class="pre">K_POINTS</span></code> to speed up the calculation.</p>
</section>
</section>
</section>
</section>
<section id="preparation-of-input-files-for-training-the-neural-network">
<h2><span class="section-number">4.1.3. </span>Preparation of input files for training the neural network<a class="headerlink" href="#preparation-of-input-files-for-training-the-neural-network" title="Permalink to this heading">¶</a></h2>
<p>In this tutorial we use <code class="docutils literal notranslate"><span class="pre">aenet</span></code> to train the neural netowrk. We need to prepare the input files for
<code class="docutils literal notranslate"><span class="pre">abICS</span></code> and <code class="docutils literal notranslate"><span class="pre">aenet</span></code>.</p>
<section id="id1">
<h3>Preparation of the abICS control file (<code class="docutils literal notranslate"><span class="pre">input.toml</span></code>)<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<section id="i-train-section">
<h4>(i) <code class="docutils literal notranslate"><span class="pre">[train]</span></code> section<a class="headerlink" href="#i-train-section" title="Permalink to this heading">¶</a></h4>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">train</span><span class="p">]</span><span class="w"> </span><span class="c1"># Configure the model trainer.</span>
<span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#39;aenet&#39;</span>
<span class="n">base_input_dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#39;. /aenet_train_input&#39;</span>
<span class="n">exe_command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">&#39;generate.x-2.0.4-ifort_serial&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="s">&#39;srun train.x-2.0.4-ifort_intelmpi&#39;</span><span class="p">]</span>
<span class="n">ignore_species</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;O&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Set up a trainer to train a configuration energy prediction model from training data.
Currently, abICS supports only aenet.
You can freely set the <code class="docutils literal notranslate"><span class="pre">base_input_dir</span></code>.
In that directory, set up the configuration files for the trainer (see below).
In <code class="docutils literal notranslate"><span class="pre">exe_command</span></code>, specify the paths to <code class="docutils literal notranslate"><span class="pre">generate.x</span></code> and <code class="docutils literal notranslate"><span class="pre">train.x</span></code> of aenet. For <code class="docutils literal notranslate"><span class="pre">train.x</span></code>, an MPI parallel version is available, in which case, set the commands for MPI execution (<code class="docutils literal notranslate"><span class="pre">mpiexec</span></code>, <code class="docutils literal notranslate"><span class="pre">srun</span></code>, etc.) as shown in the example above.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ignore-species</span></code> is set to an empty list when the first-principle solver is used for generating the training data.
When a model is employed for the data generation in which some atomic species are ignored, they are specified in <code class="docutils literal notranslate"><span class="pre">ignore-species</span></code>.</p>
</section>
</section>
<section id="preparation-of-input-files-for-aenet">
<h3>Preparation of input files for aenet<a class="headerlink" href="#preparation-of-input-files-for-aenet" title="Permalink to this heading">¶</a></h3>
<p>Place the input files for aenet in the <code class="docutils literal notranslate"><span class="pre">generate</span></code>, <code class="docutils literal notranslate"><span class="pre">train</span></code>, and <code class="docutils literal notranslate"><span class="pre">predict</span></code> directories
in the directory set in the <code class="docutils literal notranslate"><span class="pre">base_input_dir</span></code> of the <code class="docutils literal notranslate"><span class="pre">[train]</span></code> section.</p>
<section id="generate">
<h4>generate<a class="headerlink" href="#generate" title="Permalink to this heading">¶</a></h4>
<p>aenet compiles the atomic configuration and energy data for training into an intermediate binary format
that is converted into atomic environment descriptor-energy relationships before training.
Input files for <code class="docutils literal notranslate"><span class="pre">generate.x</span></code> that perform this conversion are placed in the <code class="docutils literal notranslate"><span class="pre">generate</span></code> directory.</p>
<p>First, prepare a descriptor setting file for each element type.
The file names are arbitrary.
In the tutorial we will use <code class="docutils literal notranslate"><span class="pre">Al.fingerprint.stp</span></code>, <code class="docutils literal notranslate"><span class="pre">Mg.fingerprint.stp</span></code> and so on.</p>
<p>As an example, the content of <code class="docutils literal notranslate"><span class="pre">Al.fingerprint.stp</span></code> is shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DESCR</span>
 <span class="n">N</span><span class="o">.</span> <span class="n">Artrith</span> <span class="ow">and</span> <span class="n">A</span><span class="o">.</span> <span class="n">Urban</span><span class="p">,</span> <span class="n">Comput</span><span class="o">.</span> <span class="n">Mater</span><span class="o">.</span> <span class="n">Sci</span><span class="o">.</span> <span class="mi">114</span> <span class="p">(</span><span class="mi">2016</span><span class="p">)</span> <span class="mi">135</span><span class="o">-</span><span class="mf">150.</span>
 <span class="n">N</span><span class="o">.</span> <span class="n">Artrith</span><span class="p">,</span> <span class="n">A</span><span class="o">.</span> <span class="n">Urban</span><span class="p">,</span> <span class="ow">and</span> <span class="n">G</span><span class="o">.</span> <span class="n">Ceder</span><span class="p">,</span> <span class="n">Phys</span><span class="o">.</span> <span class="n">Rev</span><span class="o">.</span> <span class="n">B</span> <span class="mi">96</span> <span class="p">(</span><span class="mi">2017</span><span class="p">)</span> <span class="mf">014112.</span>
<span class="n">END</span> <span class="n">DESCR</span>

<span class="n">ATOM</span> <span class="n">Al</span> <span class="c1"># Specify element</span>

<span class="n">ENV</span> <span class="mi">2</span> <span class="c1"># Specify the number of element species and element names that interact with the element specified in ATOM</span>
<span class="n">Al</span>
<span class="n">Mg</span>

<span class="n">RMIN</span> <span class="mf">0.55</span><span class="n">d0</span> <span class="c1"># Nearest neighbor distance between atoms</span>

<span class="n">BASIS</span> <span class="nb">type</span><span class="o">=</span><span class="n">Chebyshev</span> <span class="c1"># Chebyshev Descriptor Settings</span>
<span class="n">radial_Rc</span> <span class="o">=</span> <span class="mf">8.0</span>  <span class="n">radial_N</span> <span class="o">=</span> <span class="mi">16</span> <span class="n">angular_Rc</span> <span class="o">=</span> <span class="mf">6.5</span>  <span class="n">angular_N</span> <span class="o">=</span> <span class="mi">4</span>
</pre></div>
</div>
<p>Please refer to the aenet documentation for more information on descriptor settings.</p>
<p>Next, prepare a file named <code class="docutils literal notranslate"><span class="pre">generate.in.head</span></code> as follows</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>OUTPUT aenet.train

TYPES
2
Al -0.0  ! eV
Mg -0.0  ! eV

SETUPS
Al   Al.fingerprint.stp
Mg    Mg.fingerprint.stp
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code> must be set to <code class="docutils literal notranslate"><span class="pre">aenet.train</span></code>.
Under <code class="docutils literal notranslate"><span class="pre">TYPES</span></code> specify the elemental species in the train data and their number.
You can also specify an energy criterion for each elemental species, but it is basically safe to set it to 0.
Under <code class="docutils literal notranslate"><span class="pre">SETUPS</span></code> specify the descriptor setup file for each elemental species.
Be sure to include a newline at the end of the file.
abICS will add a list of coordinate files to the end of <code class="docutils literal notranslate"><span class="pre">generate.in.head</span></code>,
generate <code class="docutils literal notranslate"><span class="pre">generate.in</span></code>, and run <code class="docutils literal notranslate"><span class="pre">generate.x</span></code>.</p>
</section>
<section id="train">
<h4>train<a class="headerlink" href="#train" title="Permalink to this heading">¶</a></h4>
<p>Place the input file for <code class="docutils literal notranslate"><span class="pre">train.x</span></code>,
which reads the training data generated by <code class="docutils literal notranslate"><span class="pre">generate</span></code> and trains,
in the <code class="docutils literal notranslate"><span class="pre">train</span></code> directory.
The file name should be <code class="docutils literal notranslate"><span class="pre">train.in</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>TRAININGSET aenet.train
TESTPERCENT 10
ITERATIONS  500

MAXENERGY 10000

TIMING

!SAVE_ENERGIES

METHOD
bfgs

NETWORKS
! atom   network         hidden
! types  file-name       layers  nodes:activation
  Al     Al.15t-15t.nn    2      15:tanh 15:tanh
  Mg       Mg.15t-15t.nn    2      15:tanh 15:tanh
</pre></div>
</div>
<p>Basically, no changes are needed except for the <code class="docutils literal notranslate"><span class="pre">NETWORKS</span></code> section.
The <code class="docutils literal notranslate"><span class="pre">NETWORKS</span></code> section specifies the name of the potential file for each element species to be generated,
the neural network structure, and the activation function.</p>
</section>
<section id="predict">
<h4>predict<a class="headerlink" href="#predict" title="Permalink to this heading">¶</a></h4>
<p>Place the input file <code class="docutils literal notranslate"><span class="pre">predict.in</span></code> for <code class="docutils literal notranslate"><span class="pre">predict.x</span></code> in the <code class="docutils literal notranslate"><span class="pre">predict</span></code> directory
to evaluate the energy for the input coordinates using the trained potential model.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TYPES</span>
<span class="mi">2</span>
<span class="n">Mg</span>
<span class="n">Al</span>

<span class="n">NETWORKS</span>
<span class="n">Mg</span>  <span class="n">Mg</span><span class="mf">.15</span><span class="n">t</span><span class="o">-</span><span class="mi">15</span><span class="n">t</span><span class="o">.</span><span class="n">nn</span>
<span class="n">Al</span>  <span class="n">Al</span><span class="mf">.15</span><span class="n">t</span><span class="o">-</span><span class="mi">15</span><span class="n">t</span><span class="o">.</span><span class="n">nn</span>

<span class="n">VERBOSITY</span> <span class="n">low</span>
</pre></div>
</div>
<p>Enter the number of elemental species and their names
in the <code class="docutils literal notranslate"><span class="pre">TYPES</span></code> section and the name of the potential file (set in <code class="docutils literal notranslate"><span class="pre">train.in</span></code>)
for each elemental species in the <code class="docutils literal notranslate"><span class="pre">NETWORKS</span></code> section.</p>
<p>Also, <code class="docutils literal notranslate"><span class="pre">VERBOSITY</span></code> must be set to <code class="docutils literal notranslate"><span class="pre">low</span></code>.</p>
</section>
</section>
<section id="running-the-calculation">
<h3>Running the calculation<a class="headerlink" href="#running-the-calculation" title="Permalink to this heading">¶</a></h3>
<p>Now the input files have been prepared, we proceed to describe how to run the calculation.
A sample script <code class="docutils literal notranslate"><span class="pre">AL.sh</span></code> is prepared to simplify the calculation procedure.
<code class="docutils literal notranslate"><span class="pre">run_pw.sh</span></code> is used to run QE calculations; it is called inside <code class="docutils literal notranslate"><span class="pre">parallel_run.sh</span></code>, which will be described later.
The contents of <code class="docutils literal notranslate"><span class="pre">AL.sh</span></code> is as follows.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="c1">#SBATCH -p i8cpu</span>
<span class="c1">#SBATCH -N 4</span>
<span class="c1">#SBATCH -n 512</span>
<span class="c1">#SBATCH -J spinel</span>
<span class="c1">#SBATCH -c 1</span>
<span class="c1">#SBATCH --time=0:30:00</span>

<span class="c1"># Run reference DFT calc.</span>
<span class="nb">echo</span><span class="w"> </span>start<span class="w"> </span>AL<span class="w"> </span>sample
srun<span class="w"> </span>-n<span class="w"> </span><span class="m">8</span><span class="w"> </span>abics_mlref<span class="w"> </span>input.toml<span class="w"> </span>&gt;&gt;<span class="w"> </span>abics_mlref.out

<span class="nb">echo</span><span class="w"> </span>start<span class="w"> </span>parallel_run<span class="w"> </span><span class="m">1</span>
sh<span class="w"> </span>parallel_run.sh

<span class="nb">echo</span><span class="w"> </span>start<span class="w"> </span>AL<span class="w"> </span>final
srun<span class="w"> </span>-n<span class="w"> </span><span class="m">8</span><span class="w"> </span>abics_mlref<span class="w"> </span>input.toml<span class="w"> </span>&gt;&gt;<span class="w"> </span>abics_mlref.out

<span class="c1">#train</span>
<span class="nb">echo</span><span class="w"> </span>start<span class="w"> </span>training
abics_train<span class="w"> </span>input.toml<span class="w"> </span>&gt;&gt;<span class="w"> </span>abics_train.out

<span class="nb">echo</span><span class="w"> </span>Done
</pre></div>
</div>
<p>The lines starting with <code class="docutils literal notranslate"><span class="pre">#SBATCH</span></code> and <code class="docutils literal notranslate"><span class="pre">srun</span></code> command are parameters of the job scheduler and the command to invoke parallel program (similar to <code class="docutils literal notranslate"><span class="pre">mpiexec</span></code>) used on the ISSP supercomputer system B, respectively.
In this example, we are running an MPI parallel with 512 processes.
For more information about the job scheduler, please refer to the manuals of your machine.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run reference DFT calc.</span>
<span class="nb">echo</span><span class="w"> </span>start<span class="w"> </span>AL<span class="w"> </span>sample
srun<span class="w"> </span>-n<span class="w"> </span><span class="m">8</span><span class="w"> </span>abics_mlref<span class="w"> </span>input.toml<span class="w"> </span>&gt;&gt;<span class="w"> </span>abics_mlref.out
</pre></div>
</div>
<p>The above code block generates an input file for ab initio calculation, which is the main source of the training data, using <code class="docutils literal notranslate"><span class="pre">abics_mlref</span></code>.
At the first execution, the specified number of atomic arrangements are randomly generated, a separate directory is prepared for each atomic arrangement, and an input file is created in the directory.
At the same time, a file <code class="docutils literal notranslate"><span class="pre">rundirs.txt</span></code> is generated with the path of those directories.
This directory listing can be used to automate the execution of ab initio computation jobs for individual inputs.
We will then run the ab initio calculation based on the resulting file.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span>start<span class="w"> </span>parallel_run<span class="w"> </span><span class="m">1</span>
sh<span class="w"> </span>parallel_run.sh
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">parallel_run.sh</span></code> is a script to run high-throughput QE calculations in parallel using gnu parallel.
It will manage the parallel running of calculations for the directories listed in rundirs.txt.
The results of the QE calculation will be stored in each directory.
Now that we have created the training data by the QE coverage calculation, we will move on to create the neural network potential in aenet.
First, we run <code class="docutils literal notranslate"><span class="pre">abics_mlref</span></code> again to create files with the results of the ab initio calculations in a common format that abics_train will read.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span>start<span class="w"> </span>AL<span class="w"> </span>final
srun<span class="w"> </span>-n<span class="w"> </span><span class="m">8</span><span class="w"> </span>abics_mlref<span class="w"> </span>input.toml<span class="w"> </span>&gt;&gt;<span class="w"> </span>abics_mlref.out
</pre></div>
</div>
<p>Next, we use anet to create a neural network potential based on the training data.
The neural network potential is calculated by <code class="docutils literal notranslate"><span class="pre">abics_train</span></code>.
The calculation is performed by reading the input file stored in <code class="docutils literal notranslate"><span class="pre">base_input_dir</span></code> in the <code class="docutils literal notranslate"><span class="pre">[train]</span></code> section of the input file.
When the calculation is completed successfully, the trained neural network is output to the baseinput directory.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1">#train</span>
<span class="nb">echo</span><span class="w"> </span>start<span class="w"> </span>training
abics_train<span class="w"> </span>input.toml<span class="w"> </span>&gt;&gt;<span class="w"> </span>abics_train.out
</pre></div>
</div>
<p>The above process completes the AL.sh process for active learning.</p>
</section>
</section>
</section>
<section id="monte-carlo-sampling">
<h1><span class="section-number">4.2. </span>Monte Carlo sampling<a class="headerlink" href="#monte-carlo-sampling" title="Permalink to this heading">¶</a></h1>
<p>Next, we use the trained neural network potential for Monte Carlo samplings by abICS.</p>
<section id="preparation-of-input-files">
<h2><span class="section-number">4.2.1. </span>Preparation of input files<a class="headerlink" href="#preparation-of-input-files" title="Permalink to this heading">¶</a></h2>
<p>Several parameters need to be set in the abICS control file to perform the sampling as follows.</p>
<section id="id2">
<h3>Preparation of the abICS control file (<code class="docutils literal notranslate"><span class="pre">input.toml</span></code>)<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<p>The calculation parameters are specified in <code class="docutils literal notranslate"><span class="pre">[sampling]</span></code> section concerning the Replica Exchange Monte carlo method.</p>
<section id="i-sampling-section">
<h4>(i) <code class="docutils literal notranslate"><span class="pre">[sampling]</span></code> section<a class="headerlink" href="#i-sampling-section" title="Permalink to this heading">¶</a></h4>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[sampling]</span>
<span class="n">nreplicas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span>
<span class="n">nprocs_per_replica</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="n">kTstart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">600.0</span>
<span class="n">kTend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2000.0</span>
<span class="n">nsteps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6400</span>
<span class="n">RXtrial_frequency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>
<span class="n">sample_frequency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span>
<span class="n">print_frequency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="n">reload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</pre></div>
</div>
<p>In this section, you can configure settings related to the number of replicas, temperature range, etc. for the Replica Exchange Monte Carlo (RXMC) method (manual reference link).
This time, we will use anet’s <code class="docutils literal notranslate"><span class="pre">predict.x</span></code> as the energy solver for RXMC calculations. Currently, the mpi version of <code class="docutils literal notranslate"><span class="pre">predict.x</span></code> is not supported, so nprocs_per_replica should be 1.</p>
</section>
<section id="ii-sampling-solver-section">
<h4>(ii) <code class="docutils literal notranslate"><span class="pre">[sampling.solver]</span></code> section<a class="headerlink" href="#ii-sampling-solver-section" title="Permalink to this heading">¶</a></h4>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">sampling</span><span class="p">.</span><span class="n">solver</span><span class="p">]</span><span class="w"> </span><span class="c1"># Configure the solver used for RXMC calculations</span>
<span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#39;aenet&#39;</span>
<span class="n">path</span><span class="o">=</span><span class="w"> </span><span class="s">&#39;predict.x-2.0.4-ifort_serial&#39;</span>
<span class="n">base_input_dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#39;. /baseinput&#39;</span>
<span class="n">perturb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span>
<span class="n">run_scheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#39;subprocess&#39;</span>
<span class="n">ignore_species</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;O&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>In this section, you can configure the energy calculator (solver) to be used for RXMC calculations.
In this tutorial, we will use <code class="docutils literal notranslate"><span class="pre">aenet</span></code> package to evaluate the neural network model.
For <code class="docutils literal notranslate"><span class="pre">type</span></code>, <code class="docutils literal notranslate"><span class="pre">perturb</span></code>, and <code class="docutils literal notranslate"><span class="pre">run_scheme</span></code>, if you are using the active learning scheme, do not change the above example.
Set path to the path of aenet’s <code class="docutils literal notranslate"><span class="pre">predict.x</span></code> in your environment.
The <code class="docutils literal notranslate"><span class="pre">base_input_dir</span></code>, where the input files corresponding to <code class="docutils literal notranslate"><span class="pre">predict.x</span></code> are generated, can be set freely (explained in detail later).</p>
<p>You can also specify the atomic species to be ignored in the neural network model as <code class="docutils literal notranslate"><span class="pre">ignore_species</span></code>.
In this example, the sublattice of oxygen always has an occupancy of 1, so oxygens do not affect energy.
In this case, it is more computationally efficient to ignore the existence when training and evaluating the neural network model.</p>
</section>
</section>
</section>
<section id="id3">
<h2><span class="section-number">4.2.2. </span>Running the calculation<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h2>
<p>The sample script <code class="docutils literal notranslate"><span class="pre">MC.sh</span></code> is provided to simplify the calculation procedure. The content of the script is as follows.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="ch">#! /bin/sh</span>
<span class="c1">#SBATCH -p i8cpu</span>
<span class="c1">#SBATCH -N 1</span>
<span class="c1">#SBATCH -n 8</span>
<span class="c1">#SBATCH --time=00:30:00</span>

srun<span class="w"> </span>-n<span class="w"> </span><span class="m">8</span><span class="w"> </span>abics_sampling<span class="w"> </span>input.toml<span class="w"> </span>&gt;&gt;<span class="w"> </span>abics_sampling.out

<span class="nb">echo</span><span class="w"> </span>Done
</pre></div>
</div>
<p>Running abicsAL will create the <code class="docutils literal notranslate"><span class="pre">MCxx</span></code> directory (where xx is the number of runs).
With active learning in mind, additional functions have been implemented to obtain information such as the number of calculations by reading <code class="docutils literal notranslate"><span class="pre">ALloop.progress</span></code>.
Under the <code class="docutils literal notranslate"><span class="pre">MCxx</span></code> directory, a folder will be created for the number of replicas.
Then, in these folders, the atomic arrangement (<code class="docutils literal notranslate"><span class="pre">structure.XXX.vasp</span></code>) for each step described in the VASP POSCAR file format, the atomic position given the lowest energy (<code class="docutils literal notranslate"><span class="pre">minE.vasp</span></code>), and each step temperature and energy (<code class="docutils literal notranslate"><span class="pre">obs.dat</span></code>) etc. are output.
For more details, please refer to the <a class="reference external" href="https://issp-center-dev.github.io/abICS/docs/sphinx/ja/build/html/outputfiles/index.html">abICS manual output file</a>.</p>
<p>The results obtained by the above procedure depend on the accuracy of the neural network potential computed by aenet.
In the first step, we trained based on random configurations, thus the accuracy for low temperature structures is expected to be low.
Here, by repeating the step of calculating the energy again by first-principles calculation for the structure estimated by Monte Carlo and relearning it, we expect to improve the accuracy in the whole temperature range.</p>
<p>This process can be calculated by repeating <code class="docutils literal notranslate"><span class="pre">AL.sh</span></code> and <code class="docutils literal notranslate"><span class="pre">MC.sh</span></code> in turn.
The actual result of the calculation of the inversion rate (DOI) is shown in the figure below.
In this example, the first result is <code class="docutils literal notranslate"><span class="pre">MC0</span></code>, followed by <code class="docutils literal notranslate"><span class="pre">MC1</span></code>, <code class="docutils literal notranslate"><span class="pre">MC2</span></code>, and so on.
The first run is quite different from the others, thus we can expect that it is not accurate.
On the other hand, if we train on the results of one Monte Carlo run, we find that the values are almost identical from the next run.</p>
<a class="reference internal image-reference" href="../_images/doi_aenet.png"><img alt="../_images/doi_aenet.png" class="align-center" src="../_images/doi_aenet.png" style="width: 800px;" /></a>
<p>The DOI can be calculated by the following procedure.</p>
<ol class="arabic simple">
<li><p>Go to <code class="docutils literal notranslate"><span class="pre">MCxxx</span></code> directory.</p></li>
<li><p>Create <code class="docutils literal notranslate"><span class="pre">Tseparate</span></code> directory by <code class="docutils literal notranslate"><span class="pre">srun</span> <span class="pre">-n</span> <span class="pre">8</span> <span class="pre">abicsRXsepT</span> <span class="pre">../input.toml</span></code>. (The number of processes should be the same as the number of replicas for <code class="docutils literal notranslate"><span class="pre">abics_sampling</span></code>.
In this tutorial, the number of parallelism is set to 8, so set it to 8.)</p></li>
<li><p>copy <code class="docutils literal notranslate"><span class="pre">calc_DOI.py</span></code> and <code class="docutils literal notranslate"><span class="pre">MgAl2O4.vasp</span></code> in the sample directory.</p></li>
<li><p>Calculate the degree of inversion for each temperature by <code class="docutils literal notranslate"><span class="pre">srun</span> <span class="pre">-n</span> <span class="pre">8</span> <span class="pre">python3</span> <span class="pre">calc_DOI.py</span> <span class="pre">../input.toml</span></code>. (Align with the number of parallelism when <code class="docutils literal notranslate"><span class="pre">abics_sampling</span></code> is executed.
In this tutorial, the number of parallelism is set to 8, so set it to 8.)</p></li>
</ol>
<p>In general, you will need to write your own scripts (<code class="docutils literal notranslate"><span class="pre">calc_DOI.py</span></code> in the current example)
for calculating thermodynamic averages from the
structures accumulated for each temperature in <code class="docutils literal notranslate"><span class="pre">MCxxx/Tseparate</span></code>.</p>
<p>Also, please note that the number of Monte Carlo steps in this example input is not enough for
fully converging the degree of inversion. It is recommended to perform a separate
RXMC calculation using the obtained neural network model
with a larger number of sampling steps to calculate thermodynamic averages.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">abICS</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">1. About abICS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">2. Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to_use/index.html">3. Basic Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">4. Tutorial</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.1. Constructing a neural network model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#monte-carlo-sampling">4.2. Monte Carlo sampling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../inputfiles/index.html">5. Input Files Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../outputfiles/index.html">6. Output Files Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">7. Miscellaneous tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../algorithm/index.html">8. Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledge/index.html">9. Acknowledgement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact/index.html">10. Contacts</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html"><span class="section-number">4. </span>Tutorial</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter"><span class="section-number">4. </span>Tutorial</a></li>
      <li>Next: <a href="../inputfiles/index.html" title="next chapter"><span class="section-number">5. </span>Input Files Format</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019-, Institute for Solid State Physics, University of Tokyo.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../_sources/tutorial/aenet.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
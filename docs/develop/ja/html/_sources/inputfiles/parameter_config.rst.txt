.. highlight:: none
.. _config-section:

[config] セクション
-------------------------------

多元系の原子配置やPotts 模型の格子サイズなど, 配位に関するパラメータを指定します.
以下のようなファイルフォーマットをしています.

  ::

    [config]
    unitcell = [[8.1135997772, 0.0000000000, 0.0000000000],
                [0.0000000000, 8.1135997772, 0.0000000000],
                [0.0000000000, 0.0000000000, 8.1135997772]]
    supercell = [1,1,1]

    [[config.base_structure]]
    type = "O"
    coords = [
        [0.237399980, 0.237399980, 0.237399980],
        [0.762599945, 0.762599945, 0.762599945],
        ## 中略
        [0.262599975, 0.262599975, 0.762599945],
        ]
    relaxation = [
      [true, true, true],
        ## 中略
      [false, false, false],
      ]
    magnetization = [0.0, 0.5, ...中略..., 0.0]

    [[config.defect_structure]]
    coords = [
        [0.000000000, 0.000000000, 0.000000000],
        [0.749999940, 0.249999985, 0.499999970],
        ## 中略
        [0.124999993, 0.624999940, 0.124999993],
        ]

    [[config.defect_structure.groups]]
    name = 'Al'
    # species = ['Al']    # default
    # coords = [[[0,0,0]]]  # default
    # relaxation = [[true, true, true]]  # default
    # magnetization = [0.0]  # default
    num = 16

    [[config.defect_structure.groups]]
    name = 'Mg'
    # species = ['Mg']    # default
    # coords = [[[0,0,0]]]  # default
    # relaxation = [[true, true, true]]  # default
    # magnetization = [0.0]  # default
    num = 8

入力形式
^^^^^^^^^^^^
``keyword = values`` の形式でキーワードとその値を指定します.
また, #をつけることでコメントを入力することができます(それ以降の文字は無視されます).

キーワード
^^^^^^^^^^

``solver.type != "potts"`` の場合
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

- 格子の指定

    -  ``unitcell``

       **形式 :** list型

       **説明 :**
       格子ベクトル :math:`\bf{a}, \bf{b}, \bf{c}` を,
       リスト形式で [ :math:`\bf{a}, \bf{b}, \bf{c}` ] として指定します.

    -  ``supercell``

       **形式 :** list型

       **説明 :**
       超格子の大きさをリスト形式で [ :math:`\bf{a}, \bf{b}, \bf{c}` ] 指定します.

- ``[[config.base_structure]]`` セクション

    ``type`` と ``coords`` によりモンテカルロ計算で動かさない原子種とその座標を指定します. 
    原子種が複数ある場合には, 複数の [[config.base_strucure]] セクションを指定します.

    - ``type``

      **形式 :** str型

      **説明 :**  原子種を指定します.

    - ``coords``

      **形式 :** listのlist もしくは 文字列

      **説明 :**  座標を指定します.
      3次元座標を表す3要素のリストをN 個（原子の数）だけ並べたリストか, 座標を N 行 3列に並べた文字列で指定します.

    - ``relaxation``

      **形式 :** listのlist もしくは 文字列

      **説明 :**  原子・空間次元ごとに、構造最適化を行うかどうかを指定します.
      真偽値("true" or "false")を表す3要素のリストをN 個（原子の数）だけ並べたリストか, 真偽値を N 行 3列に並べた文字列で指定します.
      デフォルトはすべて "true" です。

    - ``magnetization``

      **形式 :** list

      **説明 :**  原子ごとに磁化（up/down 電子個数差）を指定します.
      デフォルトはすべて 0.0 です。

- ``[[config.defect_structure]]`` セクション

    モンテカルロで更新する原子が入る座標 (coords)と入りうる原子（団） (group) を指定します.
    Ver. 1.0ではPOSCAR や cif からの変換ツールが利用出来るようになる予定です.


    - ``coords``

      **形式 :** listのlist もしくは 文字列

      **説明 :**  原子が入る座標を指定します.
      3次元座標を表す3要素のリストをN 個（原子の数）だけ並べたリストか, 座標を N 行 3列に並べた文字列で指定します.

    - ``[[config.defect_structure.groups]]`` セクション

      モンテカルロで更新する原子グループの情報を指定します.

      -  ``name``

         **形式 :** str型

         **説明 :**
         原子グループの名前を指定します.

      
      -  ``species``

         **形式 :** list型

         **説明 :**
         原子グループに属する原子種を指定します. デフォルト値は ``name`` で指定したものがひとつだけ含まれたリストです.
         また, 空のリストを用いて欠陥を表現できます.

      .. _coords-orr:

      -  ``coords``

         **形式 :** listのlistのlist

         **説明 :**  原子グループ中の各原子の座標を、局所回転の向きごとに指定します.
         3次元座標を表す3要素のリストをN 個（原子の数）だけ並べたリストをさらに向きごとにならべた、3重のリストとして指定します。
         たとえば原子の数が2つあり、回転の方向としてx,y,z 向きの3種類考える場合には、 
         ::
            coords = [
            [ # dir-1
            [0.0, 0.0, 0.0], [0.5, 0.0, 0.0]
            ],
            [ # dir-2
            [0.0, 0.0, 0.0], [0.0, 0.5, 0.0]
            ],
            [ # dir-3
            [0.0, 0.0, 0.0], [0.0, 0.0, 0.5]
            ],
            ]

         のように指定します。
	 デフォルト値は `[[[0.0, 0.0, 0.0]]]` なので、原子が一つしかない場合には一般に省略可能です。

      - ``relaxation``

	**形式 :** listのlist もしくは 文字列

	**説明 :**  原子・空間次元ごとに、構造最適化を行うかどうかを指定します.
	真偽値("true" or "false")を表す3要素のリストをN 個（原子の数）だけ並べたリストか, 真偽値を N 行 3列に並べた文字列で指定します.
	デフォルトはすべて "true" です。

      - ``magnetization``

	**形式 :** list
	
	**説明 :**  原子ごとに磁化（up/down 電子個数差）を指定します.
	デフォルトはすべて 0.0 です。
  
      - ``num``

	**形式 :** int型
	  
	**説明 :**
        この原子グループの数を指定します.


``solver.type = "potts"`` の場合
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

    - ``Q``

      **形式 :** 自然数

      **説明 :** Potts 模型でスピンが取りうる状態の数.

    - ``L``

      **形式 :** 自然数のリスト

      **説明 :** 超立方格子のサイズ.

